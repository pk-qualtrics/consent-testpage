<!-- Load Ketch V2 Smart Tag -->
<script>
  !function(){
    window.ketchReady = new Promise((resolve) => {
      window.semaphore = window.semaphore || [];
      window.ketch = function() { window.semaphore.push(arguments); };
      window.semaphore.push(['onReady', function(api) {
        resolve(api);
      }]);
      var script = document.createElement("script");
      script.src = "https://global.ketchcdn.com/web/v2/config/merkle/website_smart_tag/boot.js";
      script.defer = script.async = true;
      document.head.appendChild(script);
    });
  }();
</script>

<!-- Custom logic after consent -->
<script>
  window.ketchReady.then(function(api) {
    api.events.on('consent:updated', function(consent) {
      if (consent.given) {
        console.log('âœ… Consent given');
        runMyCustomCode();
      } else {
        console.log('ðŸš« Consent denied');
      }
    });
  });

  function runMyCustomCode() {
    console.log("ðŸŽ‰ Running custom logic now...");
    // Insert your scripts or trackers here
  }
</script>

<!-- Page content -->
<body>
  Welcome<br>
  Version 10
</body>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Ketch Consent Example</title>

  <!-- Your Ketch Script Tag (unchanged) -->
  <script>
    !function(){
      window.semaphore=window.semaphore||[],window.ketch=function(){
        window.semaphore.push(arguments)
      };
      var e=new URLSearchParams(document.location.search),
      n=document.createElement("script");
      n.type="text/javascript", 
      n.src="https://global.ketchcdn.com/web/v2/config/merkle/website_smart_tag/boot.js", 
      n.defer=n.async=!0,
      document.getElementsByTagName("head")[0].appendChild(n)
    }();
  </script>

  <script>
    // Wait for Ketch to load and initialize
    window.ketch.push(['onConsent', function(consent) {
      // Example: Trigger custom code when user consents to specific purposes like analytics
      if (consent.purposes && consent.purposes.analytics === 'consented') {
        console.log('User consented to analytics!');

        // ðŸ‘‰ Custom function you want to execute after consent
        myCustomFunction();
      }
    }]);

    // Custom function that runs after consent
    function myCustomFunction() {
      // Example of custom actions after consent
      console.log('Running custom code...');

      // For instance, load your analytics, tracking, or marketing scripts
      // Example: Load Google Analytics or another script
      loadAnalytics();
    }

    // Example of loading Google Analytics after consent
    function loadAnalytics() {
      var script = document.createElement('script');
      script.src = 'https://www.googletagmanager.com/gtag/js?id=YOUR_ANALYTICS_ID';
      script.async = true;
      script.onload = function() {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'YOUR_ANALYTICS_ID');
      };
      document.head.appendChild(script);
    }
  </script>

</head>
<body>
  <h1>Welcome to Our Site!</h1>
  Version 1.1
</body>
</html>

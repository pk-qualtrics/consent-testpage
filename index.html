<!-- Load Ketch V2 Smart Tag -->
<script>
  !function(){
    window.ketch = window.ketch || function() {
      (window.ketch.q = window.ketch.q || []).push(arguments);
    };
    var script = document.createElement("script");
    script.src = "https://global.ketchcdn.com/web/v2/config/merkle/website_smart_tag/boot.js";
    script.defer = script.async = true;
    document.head.appendChild(script);
  }();
</script>

<!-- Register a consent:updated event listener -->
<script>
  // Wait for the real SDK to load and run the listener after a short delay
  setTimeout(function() {
    if (typeof window.ketch === 'object' && typeof ketch.events?.on === 'function') {
      ketch.events.on('consent:updated', function(consent) {
        if (consent.given) {
          console.log('‚úÖ Consent given');
          runMyCustomCode();
        } else {
          console.log('üö´ Consent denied');
        }
      });
    } else {
      console.warn('‚ö†Ô∏è Ketch SDK not yet ready. Try increasing timeout.');
    }
  }, 2000); // You can increase this to 1500ms or 2000ms if needed
</script>

<!-- Your custom code -->
<script>
  function runMyCustomCode() {
    console.log('üéâ Running custom logic...');
    // Example: add Google Analytics, marketing tags, etc.
  }
</script>

<!-- Page content -->
<body>
  Welcome<br>
  Version 12
</body>
